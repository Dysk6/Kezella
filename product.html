<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kezeélla | Product</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="stylesheet" href="css/style.css">

  <style>
    body {
      background: #f5f5f5;
      color: #000;
    }

    .product-page {
      max-width: 1100px;
      margin: 120px auto 60px;
      background: white;
      padding: 30px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
    }

    /* IMAGE */
    .product-image img {
      width: 100%;
      border-radius: 8px;
    }

    /* DETAILS */
    .product-details h1 {
      font-size: 26px;
      margin-bottom: 10px;
    }

    .rating {
      font-size: 14px;
      color: #f5a623;
      margin-bottom: 10px;
    }

    .price {
      font-size: 28px;
      color: #d32f2f;
      font-weight: bold;
      margin: 15px 0;
    }

    .section-title {
      margin: 20px 0 10px;
      font-weight: 600;
    }

    /* OPTIONS */
    .options {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .option {
      border: 1px solid #ccc;
      padding: 8px 14px;
      cursor: pointer;
      border-radius: 4px;
      font-size: 14px;
    }

    .option.active {
      border-color: black;
      background: black;
      color: white;
    }

    /* QUANTITY */
    .qty {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }

    .qty button {
      width: 32px;
      height: 32px;
      border: 1px solid #ccc;
      background: white;
      cursor: pointer;
    }

    /* ACTION BUTTONS */
    .actions {
      display: flex;
      gap: 15px;
      margin-top: 30px;
    }

    .add-cart {
      flex: 1;
      padding: 14px;
      border: 1px solid black;
      background: white;
      cursor: pointer;
      font-weight: 600;
    }

    .buy-now {
      flex: 1;
      padding: 14px;
      background: black;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 600;
    }

    .add-cart:hover {
      background: black;
      color: white;
    }

    .buy-now:hover {
      opacity: 0.85;
    }

    @media (max-width: 900px) {
      .product-page {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<header class="header">
  <div class="logo">Kezeélla</div>
  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
  </nav>
</header>

<section class="product-page">

  <!-- IMAGE -->
  <div class="product-image">
    <img src="images/product1.jpg" id="mainImage">
  </div>

  <!-- DETAILS -->
  <div class="product-details">
    <h1>Luxury 3-Piece Men Suit</h1>
    <div class="rating">★★★★☆ 4.3 (83 sold)</div>
    <div class="price">₦45,000 – ₦55,000</div>

    <!-- COLOR -->
    <div class="section-title">Color</div>
    <div class="options" id="colorOptions">
      <div class="option active">Navy</div>
      <div class="option">Black</div>
      <div class="option">Beige</div>
    </div>

    <!-- SIZE -->
    <div class="section-title">Size</div>
    <div class="options" id="sizeOptions">
      <div class="option">S</div>
      <div class="option active">M</div>
      <div class="option">L</div>
      <div class="option">XL</div>
    </div>

    <!-- QUANTITY -->
    <div class="section-title">Quantity</div>
    <div class="qty">
      <button onclick="changeQty(-1)">−</button>
      <span id="qty">1</span>
      <button onclick="changeQty(1)">+</button>
    </div>

    <!-- ACTIONS -->
    <div class="actions">
      <button class="add-cart" onclick="addToCart()">Add to Cart</button>
      <button class="buy-now" onclick="buyNow()">Buy Now</button>
    </div>
  </div>

</section>

<script>
  let quantity = 1;

  function changeQty(amount) {
    quantity += amount;
    if (quantity < 1) quantity = 1;
    document.getElementById("qty").innerText = quantity;
  }

  function getSelectedOption(containerId) {
    return document.querySelector(`#${containerId} .option.active`).innerText;
  }

  document.querySelectorAll('.option').forEach(opt => {
    opt.addEventListener('click', () => {
      opt.parentElement.querySelectorAll('.option')
        .forEach(o => o.classList.remove('active'));
      opt.classList.add('active');
    });
  });

  function addToCart() {
    const product = {
      id: "kezeella-suit-001",
      name: "Luxury 3-Piece Men Suit",
      price: 45000,
      color: getSelectedOption("colorOptions"),
      size: getSelectedOption("sizeOptions"),
      quantity: quantity,
      image: "images/product1.jpg"
    };

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const existing = cart.find(item =>
      item.id === product.id &&
      item.color === product.color &&
      item.size === product.size
    );

    if (existing) {
      existing.quantity += quantity;
    } else {
      cart.push(product);
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    alert("Added to cart ✔");
  }

  function buyNow() {
    addToCart();
    window.location.href = "cart.html";
  }
</script>

</body>
</html>
